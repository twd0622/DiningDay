<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Menu">
	
	<insert id="insert" parameterType="map">
		insert 
			into MENU
				( MENU_NO
				, STORE_NO
				, MENU_NAME
				, MENU_PRICE
				, MENU_HIDE
				, MENU_INFO
		        )
			values 
				( (select ifnull(max(cast(MENU_NO as unsigned)), 0) + 1
					 from MENU a)
				, #{STORE_NO}
				, #{MENU_NAME}
				, #{MENU_PRICE}
				, #{MENU_HIDE}
				, #{MENU_INFO}
				);
		insert		
			into STORE_IMAGE
				( STORE_NO
				, PHOTO_NO
				, MENU_PHOTO
				, PHOTO_TYPE
				)
			values
				( #{STORE_NO}
				, (select ifnull(max(cast(PHOTO_NO as unsigned)), 0) + 1
					 from STORE_IMAGE a)
				, #{MENU_PHOTO}
				, #{PHOTO_TYPE}
				);
	</insert>
	
	<select id="select" parameterType="map" resultType="map">
		
	</select>
	
</mapper>


